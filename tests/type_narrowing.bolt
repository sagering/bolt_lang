struct MyStruct {
    a : i32
}

do_i32(val : i32) : i32 {
    return val
}

do_i64(val : i64) : i64 {
    return val
}

test(@T : type, val : T) : i32 {

    if T == i32 {
        return do_i32(val)
    }

    if T == i64 {
        do_i64(val)
        return -1
    }

    if T == MyStruct {
        return val.a
    }

    return 0
}

main() : i32 {

    test(i32, 1)
    test(i64, 2)
    test(MyStruct, MyStruct{})

    return 0
}
